Roo Code + Spec Kit Development Team Package
===========================================

Overview
--------
This package provides a complete Roo Code + Spec Kit starter environment that can be dropped directly into any modern software project. It integrates Roo Code’s agentic workflow system with Spec Kit’s specification and task management tooling, enabling rapid, safe, and fully-documented development cycles.

Folder Structure
----------------
The root of this package is a `.roo` folder containing everything you need:

```
.roo/
 ├── commands/                	# Markdown command stubs for Roo/Spec Kit autodiscovery
 │    └── import-commands.md  	# Slash command to build/run a script to import custom_commands.yaml
 ├── custom_commands.yaml     	# Command bundle for Roo's importer
 ├── dev_team.yaml            	# Roo mode definitions (Architect, Taskmaster, Verifier, etc.)
 ├── guard.json               	# WRITE-GUARD configuration (snapshots + diff thresholds)
 ├── local-history/           	# Auto-generated snapshots (WRITE-GUARD)
 ├── scripts/                 	# Where scripts generated by slash commands are stored
 │    └── import-commands.ps1	# PowerShell script to import the custom_commands.yaml
```

You can simply copy or extract this `.roo` folder into your project root, open VS Code, and begin using Roo Code immediately.

Requirements
-----------
**Before you begin, install:**
1. **VS Code** (latest version)
2. **Roo Code Extension** – Install from the VS Code Marketplace.
3. **Git** – Required for diffing, local version history, and guard commits.
4. **Spec Kit CLI** – Required for `/specify`, `/plan`, `/tasks`, and `/verify` commands.
   - Installation: Refer to [Spec Kit Documentation](https://docs.roocode.com) or use `npm install -g speckit` if available.
   - Verify with: `spec-kit --help`

VS Code Settings (for WRITE-GUARD & Local History)
-------------------------------------------------
Add the following to your **`.vscode/settings.json`** to enable granular recovery and align with the WRITE-GUARD system:
```json
{
  "files.autoSave": "onFocusChange",
  "workbench.localHistory.enabled": true,
  "workbench.localHistory.maxFileSize": 10485760,
  "workbench.localHistory.maxFileEntries": 2048,
  "workbench.localHistory.saveDelay": 2
}
```
These settings ensure VS Code’s built-in Timeline and Roo’s WRITE-GUARD snapshots both capture file states before every major edit.

Installation Steps
------------------
1. **Drop the `.roo` folder into your project root.**
   - This folder contains all Roo and Spec Kit configuration files.
   - You may commit it to version control for shared environments.

2. **Import Modes**
   - Open Roo Code sidebar → **Modes → ⋮ → Import**.
   - Select `.roo/dev_team.yaml`.
   - Confirm that Architect 🏗️, Taskmaster 🧩, Verifier ✅, Repo Cleanup 🧹, and others appear in your mode list.

3. **Import Commands**
   - Run `/import-commands .roo/custom_commands.yaml --target .roo/commands --overwrite`.
   - Reload VS Code (Command Palette → *Developer: Reload Window*).
   - Confirm that your commands appear under **Settings → Slash Commands → Workspace Commands**.

4. **Enable WRITE-GUARD (recommended)**
   - Run `/guard-on` to activate pre-write snapshots and diff protection.
   - The system is pre-configured via `.roo/guard.json` with safe thresholds.
   - Restores are available via `/rollback-file` and `/rollback-last`.

5. **Bootstrap Your First Spec Kit Project**
   - Switch to **🏗️ Architect** mode.
   - Describe your project and run `/bootstrap`.
   - This will create Constitution, Spec, Plan, and Tasks documents automatically.
   - Then switch to **🧩 Taskmaster** to begin implementing with `/implement` or `/implement-range`.

Usage Summary
-------------
### Common Commands
| Command | Purpose |
|----------|----------|
| `/bootstrap` | Create Constitution, Spec, Plan, and Tasks all at once. |
| `/implement-range` | Execute a contiguous slice of tasks from TASKS.md, respecting dependencies. |
| `/verify-task` | Validate a single task against acceptance criteria from TASKS.md. |
| `/milestone` | Record a milestone and verify a subset of tasks; logs to CHANGELOG.md. |
| `/clarify-add` | Append a Q&A clarification to SPEC.md under Clarifications. |
| `/refresh-plan` | Sync plan/task deltas with current code; note drift in PLAN.md. |
| `/guard-on` / `/guard-off` | Toggle WRITE-GUARD snapshot system with diff thresholds. |
| `/snapshot-now` / `/rollback-file` / `/rollback-last` | Manage workspace snapshots and recovery. |
| `/import-commands` / `/export-commands` | Sync commands between YAML and Markdown files. |

### Core Modes
| Mode | Description |
|------|--------------|
| **🏗️ Architect** | Translates requirements into clear designs, interfaces, and stepwise Dev Notes. Bootstraps projects with Spec Kit. |
| **🧩 Taskmaster (YOLO Compatible)** | Project-aware supervisor that reads Spec/Plan/Tasks, maintains dependency queue, delegates to specialized modes. |
| **✅ Verifier (Validation)** | Validation gate that checks outcomes against acceptance criteria and spec/plan/tasks. Records verdicts. |
| **🧹 Repository Cleanup (Spec-Aware)** | Safe, spec-aware refactors: dead code removal, structure, naming, file splits, linting, small perf wins. |
| **💻 Code** | Implements features exactly as planned; small, verifiable deltas with WRITE-GUARD protection. |
| **🐞 Debug** | Reproduces and fixes failures with minimal footprint using WRITE-GUARD protection. |
| **📝 Documentation Writer** | Creates and maintains Markdown docs and ADRs; markdown-only edits with TOC and runnable snippets. |
| **🔎 Project Research** | Deep research with citations; no code edits. |
| **🧪 Jest Test Engineer** | Adds/maintains tests and coverage; codifies acceptance criteria. |
| **💬 Ask** | Pure Q&A; no edits. Useful for explanations or quick checks. |
| **📖 User Story Creator** | Generates INVEST stories with acceptance criteria and links them to tasks. |

Recommended Workflow
--------------------
1. **Bootstrap** → `/bootstrap` (creates Constitution, Spec, Plan, Tasks)
2. **Implement** → Taskmaster `/implement` (delegates subtasks safely)
3. **Document** → Docs auto-update as modes progress
4. **Refactor** → `/refactor-plan` then `/cleanup-batch`
5. **Verify** → `/verify-task` or `/milestone`

Advanced Features
-----------------
- **WRITE-GUARD:** Advanced protection system that prevents destructive edits using configurable thresholds in `.roo/guard.json`:
  - `enabled`: Toggle the entire system on/off
  - `deleteThresholdPct`: Maximum percentage of lines that can be deleted (default: 25%)
  - `shrinkThresholdPct`: Maximum percentage a file can shrink (default: 20%)
  - `snapshotDir`: Directory for storing snapshots (default: `.roo/local-history`)
- **Snapshots:** All major changes backed up to `.roo/local-history/` with timestamps.
- **Command Importer:** `/import-commands` rebuilds `.roo/commands/` automatically from YAML.
- **Spec Kit Integration:** Full integration with Spec Kit CLI for `/specify`, `/plan`, `/tasks`, and `/verify` commands.

Troubleshooting
---------------
- **Commands not visible?** Run `/import-commands .roo/custom_commands.yaml --target .roo/commands --overwrite` and reload VS Code.
- **Spec Kit CLI missing?** Install per Spec Kit docs and confirm via `spec-kit --help`.
- **Modes not available?** Open Roo Code sidebar → **Modes → ⋮ → Import** and select `.roo/dev_team.yaml`.
- **Restore lost file:** Use `/rollback-file <path>` or `/rollback-last`.
- **WRITE-GUARD too strict?** Edit `.roo/guard.json` to adjust thresholds or disable temporarily with `/guard-off`.
- **Snapshots not working?** Ensure `.roo/local-history/` directory exists and is writable.

Support & Customization
-----------------------
- To add new commands, edit `.roo/custom_commands.yaml` and re-run `/import-commands`.
- To modify behavior, update `.roo/dev_team.yaml` and re-import modes.
- Version control the `.roo/` folder to share setup across machines or teams.

Credits
-------
Developed by Darien Hardin for seamless Roo Code + Spec Kit integration.
Maintained and enhanced by the Roo Code community.
